<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/extras/spring-security" lang="en">

<head>
    <meta charset="UTF-8">
    <title>My Profile</title>
    <link rel="stylesheet" th:href="@{/css/profile.css}">
</head>

<body>

<div sec:authorize="!isAuthenticated()"
     th:replace="layout/header-default :: header-default"></div>
<div sec:authorize="hasRole('ADMIN')"
     th:replace="layout/header-admin :: header-admin"></div>

<div sec:authorize="hasRole('STAFF')"
     th:replace="layout/header-staff :: header-staff"></div>

<div sec:authorize="hasRole('CUSTOMER')"
     th:replace="layout/header-customer :: header-customer"></div>

<div class="profile-container">
    <h2>üë§ Th√¥ng tin c√° nh√¢n</h2>

    <!-- Th√¥ng b√°o -->
    <div th:if="${success}" style="color: green;">‚úÖ <span th:text="${success}"></span></div>
    <div th:if="${error}" style="color: red;">‚ùå <span th:text="${error}"></span></div>

    <form th:action="@{/profile/update}" method="post" th:object="${account}">
        <div class="form-group">
            <label>H·ªç:</label>
            <input type="text" th:field="*{lastname}" placeholder="Nh·∫≠p h·ªç...">
        </div>

        <div class="form-group">
            <label>T√™n:</label>
            <input type="text" th:field="*{firstname}" placeholder="Nh·∫≠p t√™n...">
        </div>

        <div class="form-group">
            <label>Email:</label>
            <input type="email" th:field="*{email}" readonly>
        </div>

        <div class="form-group">
            <label>S·ªë ƒëi·ªán tho·∫°i:</label>
            <input type="text" th:field="*{phoneNumber}" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i...">
        </div>

        <div class="form-group">
            <label>Gi·ªõi t√≠nh:</label>
            <select th:field="*{gender}">
                <option value="Nam">Nam</option>
                <option value="N·ªØ">N·ªØ</option>
                <option value="Kh√°c">Kh√°c</option>
            </select>
        </div>

        <button type="submit">üíæ C·∫≠p nh·∫≠t th√¥ng tin</button>
    </form>
</div>

<style>
    body {
        background-color: #f9f9f9;
        font-family: "Segoe UI", sans-serif;
    }
    .profile-container {
        width: 500px;
        margin: 50px auto;
        background: #fff;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .profile-container h2 {
        text-align: center;
        margin-bottom: 20px;
    }
    .form-group {
        margin-bottom: 15px;
    }
    label {
        font-weight: bold;
        display: block;
        margin-bottom: 6px;
    }
    input, select {
        width: 100%;
        padding: 8px 10px;
        border: 1px solid #ccc;
        border-radius: 6px;
    }
    button {
        width: 100%;
        padding: 10px;
        background-color: #4CAF50;
        border: none;
        color: white;
        font-weight: bold;
        border-radius: 6px;
        cursor: pointer;
    }
    button:hover {
        background-color: #45a049;
    }
</style>

</body>
</html>
