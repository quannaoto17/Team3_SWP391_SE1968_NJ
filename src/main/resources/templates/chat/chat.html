<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Chat AI</title>
    <style>
        #chatBox { border: 1px solid #ccc; padding: 10px; height: 300px; overflow-y: auto; }
        .USER { color: blue; }
        .AI { color: green; }
    </style>
</head>
<body>
<h2>Chat AI - Room [[${room.id}]]</h2>

<div id="chatBox">
    <ul>
        <li th:each="msg : ${room.messages}">
            <span th:class="${msg.sender}" th:text="${msg.sender} + ': '"></span>
            <span th:text="${msg.message}"></span>
        </li>
    </ul>
</div>

<form th:action="@{/chat/send}" method="post">
    <input type="hidden" name="roomId" th:value="${room.id}"/>
    <input type="text" name="message" placeholder="Nhập tin nhắn" required/>
    <!-- CSRF token -->
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
    <button type="submit">Gửi</button>
</form>


</body>
</html>
